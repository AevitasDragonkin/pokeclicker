<div id="undergroundDisplay" class="card sortable border-secondary mb-3 pokeclicker-optional-module" data-bind="visible: App.game.underground.canAccess() && Settings.getSetting('showUndergroundModule').observableValue(), if: Settings.getSetting('showUndergroundModule').observableValue()">
    <div class="card-header p-0" data-toggle="collapse" href="#undergroundCard">
        <span>Underground</span>
    </div>
    <button class="btn btn-sm btn-primary" style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;" onclick="App.game.underground.openUndergroundModal()">
        View
    </button>

    <div id="undergroundCard" class="card-body p-0 show">
        <div>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div data-bind="text: 'Treasures found: ' + Mine.itemsFound() + ' / ' + Mine.itemsBuried()"></div>
                        <div data-bind="text: 'Partially discovered: ' + (Mine.itemsFound() + Mine.itemsPartiallyFound())"></div>
                    </div>
                </div>

                <!-- ko if: Settings.getSetting('showUndergroundModuleMineControls').observableValue() -->
                <div class="row">
                    <button class='col btn btn-warning' onClick='Mine.bomb(); $(this).tooltip("hide")' data-bind="tooltip: {title: `Bomb will mine 2 layers of ${App.game.underground.getBombEfficiency()} (cleared or uncleared) random tiles.`, html: true, trigger: 'hover', placement: 'bottom', boundary: 'window'}">Bomb</button>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </div>

    <!-- ko if: Settings.getSetting('showUndergroundModuleDailyTrades').observableValue() -->
    <div  class="card-header p-0" data-toggle="collapse" href="#undergroundDailyTradesCard">
        <span>Daily trades</span>
    </div>

    <div id="undergroundDailyTradesCard" class="table-responsive show">
        <table class="table table-sm table-hover table-striped m-0 text-left">
            <thead>
            </thead>
            <tbody>
            <!-- ko foreach: DailyDeal.list -->
            <tr data-bind="tooltip: {
                            title: () => `${$data.amount1} ${$data.item1.name} → ${$data.amount2} ${$data.item2.name}`,
                            trigger: 'hover',
                            placement: 'top',
                            boundary: 'window',
                            html: true,
                        }">
                <td class="text-center vertical-middle">
                    <span style="line-height: 1;" data-bind="text: `${$data.amount1} ×`"></span>
                </td>
                <td class='text-center vertical-middle'>
                    <img class='mineInventoryItem' data-bind='attr: {src: $data.item1.image }'>
                </td>
                <td class='text-center vertical-middle'>→</td>
                <td class="text-center vertical-middle">
                    <span style="line-height: 1;" data-bind="text: `${$data.amount2} ×`"></span>
                </td>
                <td class='text-center vertical-middle'>
                    <img class='mineInventoryItem' data-bind='attr: {src: $data.item2.image }'>
                </td>
            </tr>
            <!-- /ko -->
            </tbody>
        </table>
    </div>
    <!-- /ko -->
</div>
